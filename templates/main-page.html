<html>
    <head></head>
    <body>
    <div class="messages-container"></div>
        <h1>Hello...</h1>
        <button id="add-char-btn">Add Character</button>
        <h1>Characters:</h1>
        <ul id="character-list"></ul>
    <script>
        const electron = require('electron');
        const ipcRenderer = electron.ipcRenderer;
        const characterList = document.getElementById('character-list');

        document.getElementById('add-char-btn').addEventListener('click', () => {
            ipcRenderer.send('open:add-character-page');
        });

        ipcRenderer.on('render:characters', (event, characters) => {
            if (!Array.isArray(characters)) {
                return;
            }

            characterList.innerHTML = '';
            characters.forEach(character => {
                const li = document.createElement('li');
                console.log(character.meta);
                const itemText = document.createTextNode(`${character.player} / ${character.name} (${character.level}) - ${character.server}`);
                li.appendChild(itemText);
                characterList.appendChild(li);
            });
        });
    </script>
    </body>
</html>
